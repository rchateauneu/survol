<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Survol use cases: Windows Explorer</title></head>
<body>
<div style="text-align: center; font-family: DejaVu Sans;"><a href="index.html"><img style="border: 0px solid ; width: 200px; height: 200px; float: left;" alt="Logo" src="../../LogoColorTextRight.jpeg"></a><big><big><big><span style="font-weight: bold;"><small><small><small><br>
<br>
</small></small></small>TELNET</span></big></big></big> <br>
</div>
<br style="font-family: DejaVu Sans;">
<span style="font-weight: bold; font-family: DejaVu Sans;"><br>
<br>
<br>
<br>
</span><span style="font-family: DejaVu Sans;"><br><br>The goal is to examine a telnet sesson between a Linux client and a Windows server:<br><br><span style="font-family: Courier New,Courier,monospace;">[rchateau@fedora22 rdfmon-code]$ telnet 192.168.0.14</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Trying 192.168.0.14...</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Connected to 192.168.0.14.</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Escape character is '^]'.</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Welcome to Microsoft Telnet Service</span><br style="font-family: Courier New,Courier,monospace;"><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">login: rchateau</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">password:</span><br style="font-family: Courier New,Courier,monospace;"><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">*===============================================================</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Microsoft Telnet Server.</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">*===============================================================</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">C:\Users\rchateau&gt;</span><br><br><br></span><h2><span style="font-family: DejaVu Sans;">DEMO SETUP</span></h2><span style="font-family: DejaVu Sans;"><br>We
want to focus on processes that Apache might not be able to access,
notably because Linux security is quite strict. This is why Survol, on
the client side, is started from a script, with the same user as the
one running the telnet access.<br><br><br><span style="font-family: Courier New,Courier,monospace;">[rchateau@fedora22 rdfmon-code]$ survol/scripts/cgiserver.py --address 192.168.0.17</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Platform=linux2</span><br style="font-family: Courier New,Courier,monospace;"><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Version:sys.version_info(major=2, minor=7, micro=10, releaselevel='final', serial=0)</span><br style="font-family: Courier New,Courier,monospace;"><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Server address:81.200.64.50</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Opening 192.168.0.17:8000</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">os.environ['PYTHONPATH']=/home/rchateau/rdfmon-code/survol</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">Url:http://192.168.0.17:8000/survol/www/index.htm</span><br style="font-family: Courier New,Courier,monospace;"><span style="font-family: Courier New,Courier,monospace;">server=192.168.0.17</span><br><br><br><br></span><h2><span style="font-family: DejaVu Sans;">CLIENT SIDE INVESTIGATION</span></h2><span style="font-family: DejaVu Sans;"><br><br>Let's start the telnet session from the Linux box:<br><br><br><br>The Javascript interface gives a global vision:<br><br><img style="width: 444px; height: 263px;" alt="Processes in Javascript display" title="Processes in Javascript display" src="Linux_processes_in_D3.PNG"><br><br><br>The static SVG display is more stable and we can use the search functionality &nbsp;of the browser:<br><br><img style="width: 622px; height: 327px;" alt="Linux processes in static SVG" title="Linux processes in static SVG" src="Linux_processes_in_SVG.PNG"><br><br><br>The
text interface allows better searching too. This is entirely in text
so, when documenting an application, instead of "snipping" screen
copies, it is possible to manipulate HTML copy/paste buffers, like this:<br><br><br></span><table class="class_objects"><tbody><tr bgcolor="#99ff88"><td rowspan="3" valign="top"><a href="http://192.168.0.17:8000/survol/entity.py?xid=CIM_Process.Handle=4483&amp;mode=html">telnet</a></td><td rowspan="1" valign="top">pid</td><td colspan="1">4483</td></tr><tr bgcolor="#99ff88"><td rowspan="1" valign="top">ppid</td><td colspan="1"><a href="http://192.168.0.17:8000/survol/entity.py?xid=CIM_Process.Handle=3459&amp;mode=html">bash</a></td></tr><tr bgcolor="#99ff88"><td rowspan="1" valign="top">user</td><td colspan="1">rchateau</td></tr></tbody></table><br>Let's click on the client telnet process:<br><br><table border="0"><tbody><tr><td colspan="2"><h2>Overview telnet</h2></td></tr><tr><td colspan="2">Standard process. Uniquely associated to a CIM_ComputerSystem and a parent CIM_Process.</td></tr></tbody></table><table class="table_script_information">
		<tbody><tr>
			<td><a href="http://192.168.0.17:8000/survol/class_type_all.py?xid=CIM_Process.&amp;mode=html">CIM_Process</a></td>
			<td>
Standard process. Uniquely associated to a CIM_ComputerSystem and a parent CIM_Process.
</td>
		</tr>
		
			<tr>
				<td>Handle</td>
				<td>4483</td>
			</tr>
			</tbody></table><h3>Class <a href="http://192.168.0.17:8000/survol/class_type_all.py?xid=CIM_ComputerSystem.&amp;mode=html">CIM_ComputerSystem</a></h3><table class="class_objects"><tbody><tr bgcolor="#ccffcc"><td rowspan="1" valign="top"><a href="http://192.168.0.17:8000/survol/entity.py?xid=CIM_ComputerSystem.Name=192.168.0.17&amp;mode=html">192.168.0.17</a></td><td colspan="2">Current host:192.168.0.17</td></tr> </tbody></table><h3>Class <a href="http://192.168.0.17:8000/survol/class_type_all.py?xid=CIM_Process.&amp;mode=html">CIM_Process</a></h3><table class="class_objects"><tbody><tr bgcolor="#99ff88"><td rowspan="8" valign="top"><a href="http://192.168.0.17:8000/survol/entity.py?xid=CIM_Process.Handle=4483&amp;mode=html">telnet</a></td><td colspan="2"><a href="http://192.168.0.17:8000/survol/entity.py?xid=CIM_ComputerSystem.Name=192.168.0.17&amp;mode=html">192.168.0.17</a></td></tr><tr bgcolor="#99ff88"><td colspan="2"><a href="http://192.168.0.17:8000/survol/entity.py?xid=user.Domain=192.168.0.17,Name=rchateau&amp;mode=html">rchateau</a></td></tr><tr bgcolor="#99ff88"><td rowspan="1" valign="top">Resident_Set_Size</td><td colspan="1">2236416 B</td></tr><tr bgcolor="#99ff88"><td rowspan="1" valign="top">Virtual_Memory_Size</td><td colspan="1">15446016 B</td></tr><tr bgcolor="#99ff88"><td rowspan="1" valign="top">command</td><td colspan="1">telnet 192.168.0.14</td></tr><tr bgcolor="#99ff88"><td rowspan="1" valign="top">pid</td><td colspan="1">4483</td></tr><tr bgcolor="#99ff88"><td rowspan="1" valign="top">runs</td><td colspan="1"><a href="http://192.168.0.17:8000/survol/entity.py?xid=CIM_DataFile.Name=/usr/bin/telnet&amp;mode=html">telnet</a></td></tr><tr bgcolor="#99ff88"><td rowspan="1" valign="top">user</td><td colspan="1"><a href="http://192.168.0.17:8000/survol/entity.py?xid=user.Domain=192.168.0.17,Name=rchateau&amp;mode=html">rchateau</a></td></tr></tbody></table><br><br>What we really want to see are its sockets, so let's switch to D3 mode:<br><img style="width: 379px; height: 266px;" alt="Telnet client in D3" title="Telnet client in D3" src="telnet_client_in_d3.PNG"><br><br>Right-clicking on the "Telnet" boxes gives a list of script.<br><br><br>Let's choose "Open sockets" which gets the list of sockets open by this process, and merge the result in the disply:<br><br><img style="width: 550px; height: 365px;" alt="Open client sockets" title="Open client sockets" src="telnet_client_sockets_D3.PNG"><br><br>The results of several commands have been merged into a single display:<br>* The telnet client process.<br>* Its open sockets.<br><br>These
two data can be displayed together, or separately. This merge can be
done with any kind of script/command. The result is more interesting
when several commands share nodes.<br><br>A window summarizes all commands mnerged together in a D3 display. It is called "Tools". Let's see the result:<br><br><img style="width: 826px; height: 546px;" alt="Merged scripts on client side" title="Merged scripts on client side" src="Summary_on_client.PNG"><br><br><br>These
links can be clicked on, separately: They will display there indivudual
result into a static SVG display (Of course, from there, you can switch
to the D3 or text display). You can also see the result of their merge,
in static SVG format, which can be quite convenient for printing:<br><br><img style="width: 275px; height: 239px;" alt="Client-side merged information in static SVG" title="Client-side merged information in static SVG" src="client_mergestatic_SVG.PNG"><br><br><br>But
you can also drag-and-drop each of thsee links into another browser
window, notable if this browser is connected on another Survol agent.
This allows merging data from several agents and several machines. We
will use that later.<br><br><h2>SERVER SIDE INVESTIGATION</h2><br><br>Now,
we want to see what happens on the server. Forst problem, we have no
idea of the process it is connected to. On Windows, no "telnet server"
process is running. But let's have a look at the open sockets:<br><br><img style="width: 519px; height: 579px;" alt="Global scripts available on server" title="Global scripts available on server" src="server_global_scripts.PNG"><br><br><br><br>Many sockets are displayed, but we do ot know which one is connect to the client:<br><img style="width: 459px; height: 220px;" alt="Some server sockets" title="Some server sockets" src="Some_server_sockets.PNG"><br><span style="font-family: DejaVu Sans;"><br>Form the beowser, it is easier to use the HTML interface:<br><br><br>http://192.168.0.17:8000/survol/sources_types/enumerate_CIM_Process.py?xid=.&amp;mode=html<br><br><br><br><br><br><br><br><br>urlNewNode=http://192.168.0.17:8000/survol/entity.py?xid=addr.Id=127.0.0.1:42280 univAlias=127.0.0.1:42280<br>index.htm:586:13<br>urlNewNode=http://192.168.0.17:8000/survol/entity.py?xid=addr.Id=192.168.0.14:telnet univAlias=192.168.0.14:telnet<br><br><br><br></span><br style="font-family: DejaVu Sans;"><br style="font-family: DejaVu Sans;"><br style="font-family: DejaVu Sans;"><br style="font-family: DejaVu Sans;"><br style="font-family: DejaVu Sans;"><br style="font-family: DejaVu Sans;"><br style="font-family: DejaVu Sans;"><span style="font-family: DejaVu Sans;"></span><br style="font-family: DejaVu Sans;"><span style="font-family: DejaVu Sans;">
Return to <a href="../../survol.htm">Survol</a>, or see more <a href="../../survol_use_cases.html">use cases</a>, or <a href="http://www.stack.nl/%7Edimitri/doxygen/">Doxygen</a>-generated pages&nbsp;<a href="../../doxygen_docs/html/index.html">here</a>.</span><br style="font-family: DejaVu Sans;">





<br>
<span style="font-family: DejaVu Sans;"></span>
</body></html>